<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Markdown Previewer</title>
        <script src="./js/marked.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
        <script>
            // marked.setOptions({
            //     renderer: new marked.Renderer(),
            //     highlight: function(code, lang) {
            //         const hljs = require('highlight.js');
            //         const language = hljs.getLanguage(lang) ? lang : 'plaintext';
            //         return hljs.highlight(code, { language }).value;
            //     },
            //     langPrefix: 'hljs language-', // highlight.js css expects a top-level 'hljs' class.
            //     pedantic: false,
            //     gfm: true,
            //     breaks: false,
            //     sanitize: false,
            //     smartypants: false,
            //     xhtml: false
            // });

                // Compile
                // console.log(marked.parse("hello"));
                const updatePreview = () => {
                    let previewElement = document.querySelector('#preview')
                    let editorValue = document.querySelector('#editor').value
                    let markedUpHTML = marked.parse(editorValue)
                    previewElement.innerHTML = markedUpHTML 
                    // document.querySelector('#preview').innerHTML = marked.parse(document.querySelector('#editor').value)
                }

                const setDefault = () => {
                    let defaultText = `\
# LMD was here
## Markdown Previewer project
[Learn more about any programming](https://freecodecamp.org).

<dl>
    <dt>First Term</dt>
    <dd>This is the definition of the first term.</dd>
    <dt>Second Term</dt>
    <dd>This is one definition of the second term. </dd>
    <dd>This is another definition of the second term.</dd>
</dl>

~~The world is flat.~~ We now know that the world is round.

\`Thank you for watching\`

\`\`\`
function exampleOf() {
    return example
}
\`\`\`

1. This
2. Is
3. A 
4. Example
- Code
- All
- Day

- First item
- Second item
- Third item

> Learn to Be a Programmer
![LMD](https://images.unsplash.com/photo-1661961110671-77b71b929d52?ixlib=rb-4.0.3&ixid=MnwxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80)
**Bolded Text**`
                    
                let editorField = document.querySelector('#editor')
                let previewElement = document.querySelector('#preview')
                editorField.value = defaultText
                previewElement.innerHTML = marked.parseInline(defaultText)
                }
                
        </script>
    </head>
    <body onload="setDefault()">
        <div class="container-fluid">
            <div class="row">
                <div class="col text-center text-white bg-success py-3">
                    <h1>Markdown Previewer</h1>
                </div>
            </div>
            <div class="row">
                <div class="col-6 bg-primary d-flex flex-column">
                    <h2 class="text-white text-center my-5">Editor</h2>
                    <div class="form-group flex-grow-1 d-flex flex-column">
                        <textarea id="editor" rows="25" cols="75" onkeyup="updatePreview()" class="form-control flex-grow-1"></textarea>
                    </div>
                </div>
                <div class="col-6 bg-danger">
                    <h2 class="text-white text-center my-5">Preview</h2>
                    <div id="preview"></div>
                </div>
            </div>

        </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js" integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk" crossorigin="anonymous"></script>
    <script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script>
</body>
</html>